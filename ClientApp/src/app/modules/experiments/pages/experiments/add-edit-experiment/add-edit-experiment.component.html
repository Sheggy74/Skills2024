<section gridRows="auto 9fr 1fr">
  <section gridRows="auto auto auto" gridColumns="1fr 1fr 1fr 1fr" class="w-full mt-6 px-10">
    <span class="flex flex-col p-float-label w-10/12">
      <input
        type="text"
        #validate
        id="number"
        pAutoFocus
        [autofocus]="true"
        class="w-full"
        pInputText
        [(ngModel)]="experiment.number"

      >
      <label for="inputtext">Нсмер испытания<span class="text-red-500">*</span></label>
      <small *ngIf="shouldShowError('number')" class="p-error text-xs ml-4">{{this.validationErrors.number}}</small>
    </span>
    <span class="flex flex-col p-float-label w-10/12">
      <input
        type="text"
        #validate
        id="name"
        pAutoFocus
        [autofocus]="true"
        class="w-full"
        pInputText
        [(ngModel)]="experiment.name"
      >
      <label for="inputtext">Название испытания<span class="text-red-500">*</span></label>
      <small *ngIf="shouldShowError('name')" class="p-error text-xs ml-4">{{this.validationErrors.name}}</small>
    </span>
    <span class="flex flex-col p-float-label w-10/12 mt-6 row-start-2">
      <!-- <input
        type="text"
        #validate
        id="user"
        pAutoFocus
        [autofocus]="true"
        class="w-full"
        pInputText
        [(ngModel)]="experiment.user"
      > -->
      <p-autoComplete
        [(ngModel)]="experiment.user"
        [suggestions]="filteredUsers"
        (completeMethod)="searchUser($event)"
        [dropdown]="true"
        class="w-full"
        field="fio"
        id="user"
        #validate
      >
      </p-autoComplete>

      <!-- <p-dropdown [options]="filteredUsers" [(ngModel)]="selectedUser" placeholder="Выберите лаборанта" [showClear]="true" [editable]="true"
      value="userFioConversion(selectedUser)">
        <ng-template let-user pTemplate="item">
          {{user.lastName + ' ' + user.firstName + ' ' + user.secondName }}
      </ng-template>
      <ng-template let-user pTemplate="selectedItem">
        {{selectedUser.lastName + ' ' + selectedUser.firstName + ' ' + selectedUser.secondName }}
    </ng-template>
      </p-dropdown> -->
      <label for="user">ФИО лаборанта<span class="text-red-500">*</span></label>
      <small *ngIf="shouldShowError('user')" class="p-error text-xs ml-4">{{this.validationErrors.user}}</small>
    </span>
    <span class="flex flex-col p-float-label w-10/12 mt-6 row-start-2">
      <p-autoComplete
        [(ngModel)]="experiment.tool"
        [suggestions]="filteredTools"
        (completeMethod)="searchTool($event)"
        [dropdown]="true"
        class="w-full"
        field="name"
        id="tool"
        #validate
      >
      </p-autoComplete>
      <label for="inputtext">Используемое оборудование<span class="text-red-500">*</span></label>
      <small *ngIf="shouldShowError('tool')" class="p-error text-xs ml-4">{{this.validationErrors.tool}}</small>
    </span>
    <span class="flex flex-col p-float-label  w-10/12 mt-6 row-start-3">
      <p-calendar
        [(ngModel)]="experiment.date"
        [showIcon]="true"
        class="w-full"
      ></p-calendar>
      <label for="inputtext">Дата проведения испытания<span class="text-red-500">*</span></label>
      <small *ngIf="shouldShowError('date')" class="p-error text-xs ml-4">{{this.validationErrors.date}}</small>
    </span>

  </section>
  <p-table
    class="mx-6"
    selectionMode="single"
    [scrollable]="true"
    scrollHeight="400px" >
    <ng-template pTemplate="header">
        <tr>
            <th>Название испытания</th>
            <th>Номер испытания</th>
            <th>Дата проведения</th>
            <th>Инициатор</th>
            <th>Оборудование</th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-experiment >
        <tr >
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
    </ng-template>
  </p-table>
  <section class="flex flex-row justify-end mt-6 mr-5 w-full">
    <button
      pButton
      label="Добавить/Сохранить"
      class="mr-3"
      (click)="onCreateEdit()"
    ></button>
    <button
      pButton
      label="Отмена"
      class="p-button-secondary"
      (click)="onCancel()"
    ></button>
  </section>
</section>

