<div class="max-width-full max-h-screen">
  <div *ngIf="isLoadingProject && isLoadingTask" class="custom-skeleton p-4">
    <p-skeleton width="100%" height="150px"></p-skeleton>
  </div>
  <p-card *ngIf="!isLoadingProject">
    <ng-template pTemplate="header">
      <div class="flex items-center p-4 pl-5 gap-10">
        <span class="font-bold text-3xl">
          {{projectName}}
        </span>
        <button pButton pRipple *ngIf="isManagerOrAdmin" icon="pi pi-user-plus"
          class="p-button-lg p-button-rounded p-button-success p-button-text" label="" pTooltip="Добавить пользователя"
          [showDelay]="1000"></button>
          <button pButton pRipple icon="pi pi-calendar" (click)="clnd.openDialog()"></button>
      </div>
    </ng-template>
    <div class="flex gap-10 items-center">
      <button pButton pRipple class="p-button-rounded p-button-primary p-button-text" *ngIf="isManagerOrAdmin"
        label="Добавить задачу" icon="pi pi-plus" (click)="createTaskDialog.showDialog()"></button>
      <div *ngIf="!isManagerOrAdmin" class="flex gap-2 items-center">
        <p-checkbox [(ngModel)]="isOnlyExecutorsTasks"></p-checkbox>
        <label for="binary">Показывать только мои задачи</label>
      </div>
      <div *ngIf="isManagerOrAdmin" class="flex gap-2 items-center">
        <!-- <p-checkbox [(ngModel)]="isOnlyExecutorsTasks"></p-checkbox>
      <label for="binary">Показывать только мои задачи</label> -->
      </div>
    </div>
  </p-card>
  <div class="">
    <div class="overflow-scroll h-[70vh] m-2 gap-2">
      <div *ngFor="let task of tasks">
        <app-task [task]="task" [isManagerOrAdmin]="isManagerOrAdmin" (deleteTask)="removeTask($event)"
          (updateTask)="changeTask($event)"></app-task>
      </div>
    </div>
  </div>
  <!-- <div class="mt-10">
  <p-accordion [activeIndex]="0">
    <p-accordionTab headerStyleClass="LowPriority" *ngFor="let task of tasks">
      <ng-template pTemplate="header">
        <div class="">
          {{task.name}}
          <div class="actions">

          </div>
        </div>
      </ng-template>
      <app-task [task]="task" [projectId]="projectId" [isManagerOrAdmin]="isManagerOrAdmin"
        (deleteTask)="removeTask($event)" (updateTask)="changeTask($event)"></app-task>
    </p-accordionTab>
  </p-accordion>
</div> -->

  <app-create-task [projectId]="projectId" #createTaskDialog (createTask)="addTask($event)"></app-create-task>
  <app-calendar #clnd></app-calendar>
  <!-- <app-create-task [projectId]="projectId" #createTaskDialog (createTask)="addTask($event)"></app-create-task> -->
</div>